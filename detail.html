<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail - Gülsen Namıduru</title>
    <link rel="stylesheet" href="index/index.css">
</head>
<body>
    <div class="container">
        <div class="detail-page-content">
            <div class="detail-header">
                <h2 id="detail-title"></h2>
                <a href="index.html" class="action-link">close</a>
            </div>

            <div class="detail-images" id="detail-images">
                <!-- Images and description will be inserted here -->
            </div>
        </div>
    </div>

    <script src="index/index.js"></script>
    <script>
        // Get project ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const projectId = parseInt(urlParams.get('id'));
        
        // Find project in portfolioData
        const project = portfolioData.projects.find(p => p.id === projectId);
        
        if (project) {
            const detailTitle = document.getElementById('detail-title');
            const detailImages = document.getElementById('detail-images');
            
            detailTitle.textContent = `${project.title} (${project.year})`;
            
            // Add images to detail view with description after first image
            detailImages.innerHTML = '';
            if (project.images && project.images.length > 0) {
                project.images.forEach((imgPath, index) => {
                    const img = document.createElement('img');
                    img.src = imgPath;
                    img.alt = project.title;
                    detailImages.appendChild(img);
                    
                    // Insert description after first image
                    if (index === 0) {
                        const descDiv = document.createElement('div');
                        descDiv.className = 'detail-description';
                        // Split by double newlines for paragraphs, preserve single newlines as spaces
                        const paragraphs = project.fullDescription.split(/\n\n+/);
                        descDiv.innerHTML = paragraphs.map(p => '<p>' + p.trim().replace(/\n/g, ' ') + '</p>').join('');
                        detailImages.appendChild(descDiv);
                    }
                });
            } else {
                detailImages.innerHTML = '<p style="font-size: 14px; color: #666;">No images available</p>';
                // Still show description if no images
                const descDiv = document.createElement('div');
                descDiv.className = 'detail-description';
                const paragraphs = project.fullDescription.split(/\n\n+/);
                descDiv.innerHTML = paragraphs.map(p => '<p>' + p.trim().replace(/\n/g, ' ') + '</p>').join('');
                detailImages.appendChild(descDiv);
            }
        } else {
            document.body.innerHTML = '<div style="padding: 40px;"><h2>Project not found</h2><a href="index.html">Back to portfolio</a></div>';
        }
    </script>
</body>
</html>

